<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>clisp-link</title><link rel="stylesheet" type="text/css" href="impnotes.css" /><link rev="made" href="mailto:clisp-list@lists.sourceforge.net" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><meta name="description" content="This document describes an auxiliary program for GNU CLISP. See for instructions on how to report bugs (both in the software and the documentaion). See for information on CLISP support." /><meta name="date" content="'generated: 2024-11-10 01:22:26+01:00'" /><link rel="author" title="Authors" href="#authors" /><link rel="contents" title="Table of Contents" href="index.html" /><link rel="glossary" href="#" /><link rel="help" href="#" title="" /><link rel="home" title="Home" href="http://clisp.org" /><link rel="index" href="idx.html" /></head><body><div class="refentry"><a id="clisp-link"></a><div class="titlepage"></div><div class="refnamediv"><a id="summary"></a><h2>Name</h2><p>clisp-link — link a new external <a href="impnotes.html#modules" class="olink">module</a> to <a class="ulink" href="http://clisp.org" target="_top"><span class="command"><strong>CLISP</strong></span></a>.</p></div><div class="refsynopsisdiv"><a id="synopsis"></a><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">clisp-link</code>  [<code class="option"><a class="link" href="#opt-create">create</a></code>] [<code class="option"><em class="replaceable"><code>module</code></em></code>] [<code class="option"><em class="replaceable"><code>file</code></em></code>...]</p></div><div class="cmdsynopsis"><p><code class="command">clisp-link</code>  [<code class="option"><a class="link" href="#opt-add">add</a></code>] [<code class="option"><em class="replaceable"><code>source</code></em></code>] [<code class="option"><em class="replaceable"><code>destination</code></em></code>] [<code class="option"><em class="replaceable"><code>module</code></em></code>...]</p></div><div class="cmdsynopsis"><p><code class="command">clisp-link</code>  [<code class="option"><a class="link" href="#opt-run">run</a></code>] [<code class="option"><em class="replaceable"><code>source</code></em></code>] [<code class="option"><em class="replaceable"><code>module</code></em></code>...]</p></div><div class="cmdsynopsis"><p><code class="command">clisp-link</code>  [<code class="option"><a href="clisp-link.html#opt-install" class="olink">install</a></code>] [<code class="option"><em class="replaceable"><code>module</code></em></code>...]</p></div></div><div class="refsection"><a id="description"></a><h2>Description</h2><p>This shell script operates on <a class="ulink" href="http://clisp.org" target="_top"><span class="command"><strong>CLISP</strong></span></a> <a href="impnotes.html#modset" class="olink">module set</a>s and <a href="impnotes.html#linkset" class="olink">linking set</a>s:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><code class="option"><a class="link" href="#opt-create">create</a></code>s new <a href="impnotes.html#modset" class="olink">module set</a>s out of
    source files</li><li class="listitem"><code class="option"><a class="link" href="#opt-add">add</a></code>s <a href="impnotes.html#modset" class="olink">module set</a>s to a <a href="impnotes.html#linkset" class="olink">linking set</a> to produce a
    new <a href="impnotes.html#linkset" class="olink">linking set</a></li><li class="listitem"><code class="option"><a class="link" href="#opt-run">run</a></code>s <a class="ulink" href="http://clisp.org" target="_top"><span class="command"><strong>CLISP</strong></span></a> with <a href="impnotes.html#modset" class="olink">module set</a>s added
  </li><li class="listitem"><p class="simpara"><span class="plat-dep">Platform Dependent: <span class="plat-dep">Only in <a class="ulink" href="http://clisp.org" target="_top"><span class="command"><strong>CLISP</strong></span></a> built <span class="strong"><strong>without</strong></span> configure flag <code class="option"><a href="impnotes.html#mod-dynload" class="olink">--without-dynamic-modules</a></code>.</span></span></p><p class="simpara"><code class="option"><a href="clisp-link.html#opt-install" class="olink">install</a></code>s new <a href="impnotes.html#modset" class="olink">module set</a>s for general use</p></li></ul></div></div><div class="refsection"><a id="options"></a><h2>Options</h2><div class="variablelist"><dl class="variablelist"><dt><a id="opt-create"></a><span class="term"><code class="option"><a class="link" href="#opt-create">create</a></code></span></dt><dd><p>The command
   </p><pre class="screen"><strong><code class="prompt">$</code></strong> <span class="command"><strong><a href="clisp-link.html#clisp-link" class="olink">clisp-link</a></strong></span> <code class="option"><a class="link" href="#opt-create">create</a></code> <em class="replaceable"><code>module</code></em> <em class="replaceable"><code>file</code></em> ...</pre><p>
   creates a <a href="impnotes.html#modset" class="olink">module set</a> in <em class="replaceable"><code>module</code></em> directory which refers
   (via symbolic links) to files <em class="replaceable"><code>file</code></em>...
   The files are expected to be modules of their own.
</p></dd><dt><a id="opt-add"></a><span class="term"><code class="option"><a class="link" href="#opt-add">add</a></code></span></dt><dd><p>The command
   </p><pre class="screen"><strong><code class="prompt">$</code></strong> <span class="command"><strong><a href="clisp-link.html#clisp-link" class="olink">clisp-link</a></strong></span> <code class="option"><a class="link" href="#opt-add">add</a></code> <em class="replaceable"><code>source</code></em> <em class="replaceable"><code>destination</code></em> <em class="replaceable"><code>module</code></em> ...</pre><p>
   combines the <a href="impnotes.html#linkset" class="olink">linking set</a> in directory <em class="replaceable"><code>source</code></em> and the <a href="impnotes.html#modules" class="olink">module</a>s in
   directories <em class="replaceable"><code>module</code></em>... to a new <a href="impnotes.html#linkset" class="olink">linking set</a>, in the directory <em class="replaceable"><code>destination</code></em>
   which is newly created.</p></dd><dt><a id="opt-run"></a><span class="term"><code class="option"><a class="link" href="#opt-run">run</a></code></span></dt><dd><p>The command
   </p><pre class="screen"><strong><code class="prompt">$</code></strong> <span class="command"><strong><a href="clisp-link.html#clisp-link" class="olink">clisp-link</a></strong></span> <code class="option"><a class="link" href="#opt-run">run</a></code> <em class="replaceable"><code>source</code></em> <em class="replaceable"><code>module</code></em> ...</pre><p>
   runs the <a href="impnotes.html#linkset" class="olink">linking set</a> in directory <em class="replaceable"><code>source</code></em>, with the <a href="impnotes.html#modules" class="olink">module</a>s
   in directories <em class="replaceable"><code>module</code></em>...
   Unless <a class="ulink" href="http://clisp.org" target="_top"><span class="command"><strong>CLISP</strong></span></a> has been built with the configuration option
   <code class="option"><a href="impnotes.html#mod-dynload" class="olink">--without-dynamic-modules</a></code>, the loading will be performed using <a href="impnotes.html#mod-dynload" class="olink"><code class="function">SYS::DYNLOAD-MODULES</code></a>.
   Otherwise - this is much slower - a temporary <a href="impnotes.html#linkset" class="olink">linking set</a> will be created
   and deleted afterwards.</p></dd><dt><a id="opt-install"></a><span class="term"><code class="option"><a href="clisp-link.html#opt-install" class="olink">install</a></code></span></dt><dd><p class="simpara"><span class="plat-dep">Platform Dependent: <span class="plat-dep">Only in <a class="ulink" href="http://clisp.org" target="_top"><span class="command"><strong>CLISP</strong></span></a> built <span class="strong"><strong>without</strong></span> configure flag <code class="option"><a href="impnotes.html#mod-dynload" class="olink">--without-dynamic-modules</a></code>.</span></span></p><p>The command
   </p><pre class="screen"><strong><code class="prompt">$</code></strong> <span class="command"><strong><a href="clisp-link.html#clisp-link" class="olink">clisp-link</a></strong></span> <code class="option"><a href="clisp-link.html#opt-install" class="olink">install</a></code> <em class="replaceable"><code>module</code></em> ...</pre><p>
   installs the <a href="impnotes.html#modules" class="olink">module</a>s in directories <em class="replaceable"><code>module</code></em>... into <a href="clisp.html#opt-libdir" class="olink"><code class="varname">CUSTOM:*LIB-DIRECTORY*</code></a> or, if
   it is not writable to the user (e.g., if a system-wide <a class="ulink" href="http://clisp.org" target="_top"><span class="command"><strong>CLISP</strong></span></a>
   installation is used and the user does not have administrative privileges),
   into <strong class="first"><em class="firstterm"><a href="clisp-link.html#opt-install" class="olink"><code class="varname">CUSTOM:*USER-LIB-DIRECTORY*</code></a></em></strong>.</p><p>Variable <a href="clisp-link.html#opt-install" class="olink"><code class="varname">CUSTOM:*USER-LIB-DIRECTORY*</code></a> is initially set to
   <code class="code">(<a class="ulink" href="http://www.ai.mit.edu/projects/iiip/doc/CommonLISP/HyperSpec/Body/fun_merge-pathnames.html" target="_top"><code class="function">MERGE-PATHNAMES</code></a> ".clisp/" (<a class="ulink" href="http://www.ai.mit.edu/projects/iiip/doc/CommonLISP/HyperSpec/Body/fun_user-homedir-pathname.html" target="_top"><code class="function">USER-HOMEDIR-PATHNAME</code></a>))</code>
   if that directory exists, and can be reset in the <a href="clisp.html#opt-norc" class="olink">RC file</a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Do <span class="strong"><strong>not</strong></span> add <a href="clisp-link.html#opt-install" class="olink"><code class="varname">CUSTOM:*USER-LIB-DIRECTORY*</code></a> to <a href="impnotes.html#load-paths" class="olink"><code class="varname">CUSTOM:*LOAD-PATHS*</code></a> or under any
    element thereof.  Use <a href="impnotes.html#require" class="olink"><code class="function">REQUIRE</code></a> instead of <a href="impnotes.html#loadfile" class="olink"><code class="function">LOAD</code></a> to load
    dynamic modules.</p></div><p class="simpara">For this command to work, each <em class="replaceable"><code>module</code></em> directory must
   contain a <code class="filename">Makefile</code> with a <span class="command"><strong>clisp-module-distrib</strong></span>
   target which uses <code class="envar">LN</code> to distribute the files necessary
   to run the module into <code class="envar">destdir</code>. This is in addition to
   the general requirement that <a href="impnotes.html#modset" class="olink"><span class="command"><strong>link.sh</strong></span></a> is present.</p></dd></dl></div></div><div class="refsection"><a id="examples"></a><h2>Examples</h2><p>See <a href="impnotes.html#mod-set-example" class="olink">Section 32.2.6, “Example”</a>.</p></div><div class="refsection"><a id="files"></a><h2>Files</h2><p><span class="command"><strong><a href="clisp-link.html#clisp-link" class="olink">clisp-link</a></strong></span> needs a <span class="quote">“<span class="quote">link kit</span>”</span> directory containing:
 </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><code class="filename">"modules.c"</code></li><li class="listitem"><a href="impnotes.html#clisp-h" class="olink"><code class="filename">"clisp.h"</code></a></li></ul></div><p> <span class="command"><strong><a href="clisp-link.html#clisp-link" class="olink">clisp-link</a></strong></span> expects to find these files in a
 subdirectory <code class="filename">linkkit/</code> of the installation directory
 (i.e., <a href="clisp.html#opt-libdir" class="olink"><code class="varname">CUSTOM:*LIB-DIRECTORY*</code></a>) which it acquires by running
 </p><pre class="screen"><strong><code class="prompt">$</code></strong> `dirname $0`/clisp <code class="option"><a href="clisp.html#opt-printlibdir" class="olink">-b</a></code></pre><p>
 This can be overridden by the <a class="unix" href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html">environment variable</a> <code class="envar">CLISP_LINKKIT</code>.
</p></div><div class="refsection"><a id="see-also"></a><h2>See also</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><a href="impnotes.html#impnotes-top" class="olink"><span class="command"><strong>CLISP</strong></span> impnotes</a></td></tr><tr><td><a href="clisp.html#clisp" class="olink"><span class="refentrytitle">clisp</span>(1)</a></td></tr></table></div></div><div class="refentryinfo"><hr /><table width="100%" summary="man page meta info"><th><td align="left"><span class="command"><strong><a href="clisp-link.html#clisp-link" class="olink">clisp-link</a></strong></span> version 2.49.95+</td><td align="center">Platform: @PLATFORM@</td><td align="right">Last modified: 2024-11-10</td></th></table></div><div class="custom-footer"><hr /><table width="100%"><tr><td align="left"><a href="http://clisp.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td></tr></table></div><hr /><form method="get" action="http://www.google.com/custom" target="_top"><table width="100%" border="0"><tr><td nowrap="nowrap" align="center"><input type="hidden" name="domains" value="clisp.org" /><label for="sbi" style="display: none">Enter your search terms</label><input type="text" name="q" size="50" maxlength="255" id="sbi" value="clisp-link" /><label for="sbb" style="display: none">Submit search form</label><input type="submit" name="sa" value="Google Search" id="sbb" /></td></tr><tr><td nowrap="nowrap" align="center"><input type="radio" name="sitesearch" value="" checked="1" id="ss0" /><label for="ss0" title="Search the Web"><small>Web</small></label><input type="radio" name="sitesearch" value="clisp.org" id="ss1" /><label for="ss1" title="Search clisp.org"><small>clisp.org</small></label><input type="hidden" name="client" value="pub-4445255502750357" /><input type="hidden" name="forid" value="1" /><input type="hidden" name="ie" value="UTF-8" /><input type="hidden" name="oe" value="UTF-8" /><input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:000000;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:48;LW:48;L:http://clisp.cons.org/clisp.png;S:http://clisp.cons.org;FORID:1" /><input type="hidden" name="hl" value="en" /></td></tr></table></form><hr /></body></html>